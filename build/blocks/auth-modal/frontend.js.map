{"version":3,"file":"blocks/auth-modal/frontend.js","mappings":"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","sources":["webpack://lsedu-plus/./src/blocks/auth-modal/frontend.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const openModalBtn = document.querySelectorAll('.open-modal');\n  const modalEl = document.querySelector('.wp-block-lsedu-plus-auth-modal');\n  const modalCloseEl = document.querySelectorAll('.modal-overlay, .modal-btn-close');\n\n  openModalBtn.forEach(el => {\n    el.addEventListener('click', event => {\n      event.preventDefault();\n\n      modalEl.classList.add('modal-show');\n    })\n  })\n\n  modalCloseEl.forEach(el => {\n    el.addEventListener('click', event => {\n      event.preventDefault();\n\n      modalEl.classList.remove('modal-show');\n    })\n  })\n\n  const tabs = document.querySelectorAll('.tabs a');\n  const signinForm = document.querySelector('#signin-tab');\n  const signupForm = document.querySelector('#signup-tab');\n\n  tabs.forEach(tab => {\n    tab.addEventListener('click', event => {\n      event.preventDefault();\n\n      tabs.forEach(currentTab => {\n        currentTab.classList.remove('active-tab')\n      })\n\n      event.currentTarget.classList.add('active-tab');\n\n      const activeTab = event.currentTarget.getAttribute('href');\n\n      if(activeTab === '#signin-tab'){\n        signinForm.style.display = 'block';\n        signupForm.style.display = 'none';\n      } else {\n        signupForm.style.display = \"block\";\n        signinForm.style.display = \"none\";\n      }\n    })\n  })\n\n  if(signupForm){\n    signupForm.addEventListener(\"submit\", async (event) => {\n      event.preventDefault();\n\n      const signupFieldset = signupForm.querySelector(\"fieldset\");\n      signupFieldset.setAttribute(\"disabled\", true);\n\n      const signupStatus = signupForm.querySelector(\"#signup-status\");\n      signupStatus.innerHTML = `\n      <div class=\"modal-status modal-status-info\">\n        Please Wait! We are creating your account.\n      </div>\n    `;\n\n      const formData = {\n        username: signupForm.querySelector(\"#su-name\").value,\n        email: signupForm.querySelector(\"#su-email\").value,\n        password: signupForm.querySelector(\"#su-password\").value,\n      };\n\n      const response = await fetch(lsedup_auth_rest.signup, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      const responseJSON = await response.json();\n\n      if (responseJSON.status === 2) {\n        signupStatus.innerHTML = `\n        <div class=\"modal-status modal-status-success\">\n          Success! Your account has been created.\n        </div>\n      `;\n\n        location.reload();\n      } else {\n        signupFieldset.removeAttribute(\"disabled\");\n        signupStatus.innerHTML = `\n        <div class=\"modal-status modal-status-danger\">\n          Unable to create account! Please try again later.\n        </div>\n      `;\n      }\n    });\n  }\n\n  if(signinForm){\n    signinForm.addEventListener(\"submit\", async (event) => {\n      event.preventDefault();\n\n      const signinFieldset = signinForm.querySelector(\"fieldset\");\n      const siginStatus = signinForm.querySelector(\"#signin-status\");\n\n      signinFieldset.setAttribute(\"disabled\", true);\n      siginStatus.innerHTML = `\n      <div class=\"modal-status modal-status-info\">\n        Please Wait! We are logging you in.\n      </div>\n    `;\n\n      const formData = {\n        user_login: signinForm.querySelector(\"#si-email\").value,\n        password: signinForm.querySelector(\"#si-password\").value,\n      };\n\n      const response = await fetch(lsedup_auth_rest.signin, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      const responseJSON = await response.json();\n\n      if (responseJSON.status === 2) {\n        siginStatus.innerHTML = `\n        <div class=\"modal-status modal-status-success\">\n          Success! You are now logged in.\n        </div>\n      `;\n\n        location.reload();\n      } else {\n        signinFieldset.removeAttribute(\"disabled\");\n        siginStatus.innerHTML = `\n        <div class=\"modal-status modal-status-danger\">\n          Invalid credentials! Please try again later.\n        </div>\n      `;\n      }\n    });\n  }\n})"],"names":["document","addEventListener","openModalBtn","querySelectorAll","modalEl","querySelector","modalCloseEl","forEach","el","event","preventDefault","classList","add","remove","tabs","signinForm","signupForm","tab","currentTab","currentTarget","activeTab","getAttribute","style","display","signupFieldset","setAttribute","signupStatus","innerHTML","formData","username","value","email","password","response","fetch","lsedup_auth_rest","signup","method","headers","body","JSON","stringify","responseJSON","json","status","location","reload","removeAttribute","signinFieldset","siginStatus","user_login","signin"],"sourceRoot":""}